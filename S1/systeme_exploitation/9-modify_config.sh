#!/bin/bash

# Vérification du nombre d'arguments
if [ "$#" -ne 3 ]; then
    echo "Usage: $0 <ServerName> <DBHost> <DBUser>"
    exit 1
fi

# Assignation des paramètres
newServerName="$1"
newDBHost="$2"
newDBUser="$3"

# Vérification de l'existence du fichier de configuration
if [ ! -f "9-config.conf" ]; then
    echo "Le fichier 9-config.conf est introuvable."
    exit 1
fi

# Création du fichier 9-config-ok.conf avec les modifications
sed -e "s/^ServerName .*/ServerName $newServerName/" \
-e "s/^DBHost .*/DBHost $newDBHost/" \
-e "s/^DBUser .*/DBUser $newDBUser/" 9-config.conf > 9-config-ok.conf

echo "Le fichier 9-config-ok.conf a été créé avec les nouvelles valeurs."